<head>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/stylesheet.css">
	<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />
	<title>start</title>
</head>

<body>
	<div id="top">
		<div class="top-left">
			<div class="pad-left">
			<p class="date"><span id="weekday"></span> <span id="month-date"></span></p>
			<p class="weather-widget"><i class="fa fa-gear"> </i> <span id="weather"></span></p>
			<div class="settings">
				<p class="x">x</p>
				<p>City: <input class="enter entercity" type="text" /></p>
				<p>Country: <input class="enter entercountry" type="text" /> (840)</p>
				<p>Please use ISO 3166 country codes. <br/>Find your country code here: <a href="https://www.iso.org/obp/ui/#search">iso.org</a></p>
				<ul>
					<li>
						<input type="radio" id="cel" name="unit" value="cel">
    					<label for="cel">C&deg;</label>
					</li>
					<li>
    					<input type="radio" id="far" name="unit" value="far">
    					<label for="far">F&deg;</label>
					</li>
				</ul>
				<button id="save">save</button>
			</div>
			<p id="btc-price">BTC Price: </p>
			<p id="quote-of-the-day">Quote of the day: &nbsp;</p>
			</div>
		</div>
		<div class="top-right">
	    <div class="pad-right">
			<a href="" id="watch-title-link"><p><span id="watch-title"></span></p></a>
			<p><span id="score-3"></span></p>
			<p><span id="next-post-news">next post &rarr;</span></p>
		</div>
		</div>
	</div>

	<div id="bottom">
		<div class="container-rect">
			<div id="search">
				<input id="search-bar" type="text" placeholder="search" />
				<div id="links">
					<p class="mail-links">
						<a href=""><div class="link category mail-cat">mail</div></a>
						<a id="mail-link-1" href="https://outlook.office.com/owa/" target="_blank"><span class="link mail mail1">.stanford</span></a>
						<a id="mail-link-2" href="https://inbox.google.com/u/0/" target="_blank"><span class="link mail mail2">.harmony</span></a>
						<a id="mail-link-3" href="https://inbox.google.com/u/2/" target="_blank"><span class="link mail mail3">.personal</span></a>
					</p>
					<p class="watch-links">
						<a href=""><div class="link category watch-cat">watch</div></a>
						<a id="watch-link-1" href="https://www.netflix.com/browse/" target="_blank"><span class="link watch watch1">netflix</span></a>
						<a id="watch-link-2" href="http://youtube.com/" target="_blank"><span class="link watch watch2">youtube</span></a>
						<a id="watch-link-3" href="http://twitch.com/" target="_blank"><span class="link watch watch2">twitch</span></a>
					</p>
					<p class="code-links">
						<a href=""><div class="link category code-cat">code</div></a>
						<a id="code-link-1" href="https://github.com/" target="_blank"><span class="link code code1">github</span></a>
						<a id="code-link-2" href="http://hackerrank.com/" target="_blank"><span class="link code code2">hackerrank</span></a>

					</p>
				</div>
			</div>
		</div>
	</div>

<style>
	@font-face {
    font-family: 'nationalelight';
    src: url('fonts/nationale-light-webfont.woff2') format('woff2'),
         url('fonts/nationale-light-webfont.woff') format('woff'),
		 url('fonts/nationale-light-webfont.otf') format('otf');
    font-weight: normal;
    font-style: normal;

	}
	body {
		font-family: 'nationalelight', 'Quicksand';
		margin: 0;
		background-color: #1f1f1f;
	}
	p {
		font-family: 'nationalelight', 'Quicksand';
		color: rgb(227, 131, 127);
		font-size: 15px;
	}
	a {
		color: #7fdfe3;
		text-decoration: none;
	}
	input[type=text] {
		color: #7fe383;
		font-family: 'nationalelight', 'Quicksand';
		font-size: 15px;
	}
	#links {
		padding-left: 5%;
		margin-top: 3em;
		margin-bottom: 3em;
	}
	.code-cat a {
		color: #7fe383 !important;
	}
	.code-cat {
		border-right: 1px solid #7fe383;
	}
	.code {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.code:hover {
		color: #7fe383 !important;
	}

	.watch-cat a {
		color: #e37fad !important;
	}
	.watch-cat {
		border-right: 1px solid #e37fad;
		color: #e37fad !important;
	}
	.watch {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.watch:hover {
		color: #e37fad !important;
	}
	.mail-cat a {
		color: #7fdfe3 !important;
	}
	.mail-cat {
		border-right: 1px solid #7fdfe3;
		color: #7fdfe3 !important;
	}
	.mail {
		cursor: pointer;
		transition: color 0.5s ease;
	}
	.mail:hover {
		color: #7fdfe3 !important;
	}
	.category {
		padding-right: 14px;
		width: 50px;
		float: left;
	}
	.link {
		margin-right: 14px;
		color: #e3b57f;
	}
	.link.watch a {
		color: #e3b57f;
	}
	.link.watch a:hover {
		color: #e37fad !important;
	}
	#search-bar {
    	width: 90%;
    	border-bottom: 1px solid #7fe383;
		border-top: 0;
		border-left: 0;
		border-right: 0;
		color: #7fe383;
    	padding: 10px;
		margin-left: 5%;
		background-color: transparent;
		font-size: 15px;
		text-align: center;
	}
	::-webkit-input-placeholder { /* WebKit, Blink, Edge */
		font-family: 'nationalelight', 'Quicksand';
		color: #7fe383;
		opacity: 1;
	}
	:-moz-placeholder { /* Mozilla Firefox 4 to 18 */
		font-family: 'nationalelight', 'Quicksand';
		color: #7fe383;
		opacity: 1;
	}
	::-moz-placeholder { /* Mozilla Firefox 19+ */
		font-family: 'nationalelight', 'Quicksand';
		color: #7fe383;
		opacity: 1;
	}
	:-ms-input-placeholder { /* Internet Explorer 10-11 */
		font-family: 'nationalelight', 'Quicksand';
		color: #7fe383;
		opacity: 1;
	}
	::-ms-input-placeholder { /* Microsoft Edge */
		font-family: 'nationalelight', 'Quicksand';
		color: #7fe383;
		opacity: 1;
	}
	.fa-gear {
		cursor: pointer;
	}
	.enter {
		border: 0;
		border-bottom: 1px solid rgb(227, 131, 127);
		background-color: transparent;
	}
	#watch-title {
		color: #7fe383;
	}
	#score-3 {
		color: #e37fad;
	}
	#save {
		border: 1px solid #e37fad;
		background-color: transparent;
		padding: 5px 10px;
		width: 100%;
		margin: 0 auto;
		color: #e37fad;
		cursor: pointer;
		font-family: 'nationalelight', 'Quicksand';
		font-size: 15px;
	}
	.x {
		position: absolute;
		color: #e37fad;
		right: 12px;
		top: 5px;
		padding: 0;
		margin: 0;
		cursor: pointer;
	}
	.date {
		color: #7fe383;
	}
	.weather-widget {
		color: #e37fad;
	}
	#btc-price {
		color: #e3b57f;
	}
	#top {
		border: 1px solid rgb(227, 131, 127);
		background-color: #1f1f1f;
		height: 160px; /*was 130*/
		width: calc(100% - 2px);
	}
	#bottom {
		background-color: #1F1F1F;
		height: 69%;
		width: 100%;
		padding-top: 60px;
	}
	.container-rect {
		background: transparent;
		height: auto;
		width: 700px;
		border: 1px solid rgb(227, 131, 127);
		position: relative;
		top: 15%;
		margin: 0 auto;

	}
	#next-post-news {
		cursor: pointer;
		color: #e3b57f;
	}
	h1, h2, h3, p {
		font-family: 'nationalelight', 'Quicksand';
	}
	.title {
		text-transform: uppercase;
		letter-spacing: 2px;
		color: white;
		text-align: center;
	}
	#searchbar {
		background-color: transparent;
		border: 0;
		width: 90%;
		text-align: center;
	}
	.settings {
		width: 300px;
		background-color: #1f1f1f;
		border: 1px solid #e37fad;
		position: absolute;
		top: 80px;
		padding: 1em;
	}
	.pad-left {
		padding-left: 1em;
	}
	.pad-right {
		padding-left: 1em;
	}
	.top-left {
		width: 50%;
		border-right: 1px solid rgb(227, 131, 127);
		float: left;
		height: 100%;
	}
	.top-right {
    	width: calc(50% - 1px);
    	float: left;
		height: 100%;
	}
	hr {
		border: 0;
		height: 2px;
		background-image: linear-gradient(to right, rgba(227, 131, 127, 0), rgba(227, 131, 127, 0.75), rgba(227, 131, 127, 0));
	}
	/* radio buttons */
	ul {
		list-style: none;
		margin: 0;
		padding: 0;
		margin-bottom: 1em;
		text-align: center;
	}

	label[for="far"], label[for="cel"] {
		cursor: pointer;
		border: 1px solid rgb(227, 131, 127);
		padding: 4px;
	}

	ul li {
		display: inline;
		margin-right: 30px;
	}

	ul li input[type=radio]{
		visibility: hidden;
		float: left;
		display: none;
	}

	ul li .check::before {
		position: absolute;
		content: '';
		border-radius: 100%;
		height: 15px;
		width: 15px;
		top: 5px;
		left: 5px;
		margin: auto;
		transition: background 0.25s linear;
		-webkit-transition: background 0.25s linear;
	}

	input[type=radio]:not(:checked) ~ .check {
		border: 5px solid rgb(227, 131, 127);
	}

	input[type=radio]:not(:checked) ~ .check::before{
		background: rgb(227, 131, 127);
	}

	input[type=radio]:not(:checked) ~ label{
		color: rgb(227, 131, 127);
	}

	input[type=radio]:checked ~ .check {
		border: 5px solid #7fdfe3;
	}

	input[type=radio]:checked ~ .check::before{
		background: #7fdfe3;
	}

	input[type=radio]:checked ~ label{
		color: #7fdfe3;
		border: 1px solid #7fdfe3;
	}
</style>

<script>
$(document).ready(function(){

$(".container-rect").addClass("animated bounceInUp");

$(".mail-links").mouseover(function(){
	$('.mail-cat').css("border-right", "2px solid #7fdfe3");
});
$(".mail-links").mouseout(function(){
	$('.mail-cat').css("border-right", "1px solid #7fdfe3");
});
$(".watch-links").mouseover(function(){
	$('.watch-cat').css("border-right", "2px solid #e37fad");
});
$(".watch-links").mouseout(function(){
	$('.watch-cat').css("border-right", "1px solid #e37fad");
});


$("#search-bar").keypress(function(event) {
var searchQuery = $("#search-bar").val();
  if ( event.which == 13 ) {
    window.location.href = 'https://duckduckgo.com/?q=' + searchQuery;
  }
}); // END Keypress Function

$(".settings").hide();
$(".fa-gear").click(function(){
	$(".settings").slideToggle();
});
$(".x").click(function(){
	$(".settings").slideToggle();
});

if (localStorage.getItem("locCity") == null) {
	localStorage.setItem("locCity", "kelowna")
}

if (localStorage.getItem("locCountry") == null) {
	localStorage.setItem("locCountry", "ca")
}
if (localStorage.getItem("unit") == null) {
	localStorage.setItem("unit", "C&deg;")
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "C&deg;") {
	$("#cel").attr('checked', 'checked');
} else if(localStorage.getItem("unit") == "F&deg;") {
	$("#far").attr('checked', 'checked');
}
//
// var baseURL = "http://api.openweathermap.org/data/2.5/weather?q=";
// var city = localStorage.getItem('locCity');
// var country = localStorage.getItem('locCountry')
// var key = "&APPID=15dac795069e9f6ef5b3c4c435136247";
// var apiurl = baseURL + city + "," + country + key;
// var unit = localStorage.getItem('unit');
//
// $(".entercity").attr("value", city);
// $(".entercountry").attr("value", country);

function getWeather() {
	let baseURL = "http://api.openweathermap.org/data/2.5/weather?q=";
	let city = localStorage.getItem('locCity');
	let country = localStorage.getItem('locCountry')
	let key = "&APPID=15dac795069e9f6ef5b3c4c435136247";
	let apiurl = baseURL + city + "," + country + key;
	let unit = localStorage.getItem('unit');

	$.getJSON(apiurl,function(result){
    	console.log(result);
		let temp = result.main.temp;
		if (localStorage.getItem("unit") == "C&deg;") {
			temp = temp - 273.15;
			temp = Math.round(temp);
		} else if (localStorage.getItem("unit") == "F&deg;") {
			temp = temp - 273.15;
			temp = temp * 1.8;
			temp = temp + 32;
			temp = Math.round(temp);
		}

		$("#weather").empty().append(result.name + ": " + temp + " " + unit + ", " + result.weather[0].description);
	});
}
getWeather();

$("#save").click(function(){
	if ($('.entercity').length > 0 && $('.entercity').val() != '') {
		localStorage.setItem("locCity", $(".entercity").val());
	}
	if ($('.entercountry').length > 0 && $('.entercountry').val() != '') {
		localStorage.setItem("locCountry", $(".entercountry").val());
	}
	if ($('input[id=far]').is(":checked")) {
		localStorage.setItem("unit", "F&deg;");
	}
	if ($('input[id=cel]').is(":checked")) {
		localStorage.setItem("unit", "C&deg;");
	}
	getWeather();
	$(".settings").slideToggle();
});

// var baseURL = "http://api.musixmatch.com/ws/1.1/track.search?";
// var artist = "&q_artist=EDEN";
// var track = "&q_track=Circles"
// var key = "apikey=91f6b0744bb250dc25d80a39932d2825";
// var apiurl = baseURL + key + artist + track + "&page_size=10";

function getQuote() {
	let apiurl = "https://quotes.rest/qod?category=inspire";
	if(localStorage.getItem("monthday") != monthday) {
		localStorage.setItem("monthday", monthday);
		$.getJSON(apiurl, function(result) {
			console.log(result);
			let quote = result.contents.quotes[0].quote;
			let author = result.contents.quotes[0].author;
			$("#quote-of-the-day").append(quote + " - " + author);
			localStorage.setItem("quote", quote + " - " + author);
		});
	} else {
		$("#quote-of-the-day").append(localStorage.getItem("quote"));
	}
}
getQuote();

function getLyrics() {
	// let baseURL = "http://api.musixmatch.com/ws/1.1/track.search?";
	// let artist = "&q_artist=EDEN";
	// let track = "&q_track=Circles"
	// let key = "apikey=91f6b0744bb250dc25d80a39932d2825";
	// let apiurl = baseURL + key + artist + track + "&page_size=10";
	$.ajax({
		 type: "GET",
		 data: {
				 apikey:"91f6b0744bb250dc25d80a39932d2825",
				 q_track:"Circles",
				 q_artist:"EDEN",
				 f_has_lyrics: 1,
				 format:"jsonp",
				 callback:"jsonp_callback"
		 },
		 url: "http://api.musixmatch.com/ws/1.1/matcher.lyrics.get",
		 dataType: "jsonp",
		 jsonpCallback: 'jsonp_callback',
		 contentType: 'application/json',
		 success: function(data) {
				 console.log(data.message.body.lyrics.lyrics_body);
		 },
		 error: function(jqXHR, textStatus, errorThrown) {
				 console.log(jqXHR);
				 console.log(textStatus);
				 console.log(errorThrown);
		 }
	 });
}
// getLyrics();


//Date Functionality
var date = new Date();
var weekdays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
var months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
var weekday = weekdays[date.getDay()];
var month = date.getMonth();
var monthday = date.getDate();
var year = date.getYear();

$('#weekday').html(weekday);

switch (monthday) {
	case 1:
	case 21:
	case 31:
    	var affix = "st";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
    	break;
	case 2:
	case 22:
    	var affix = "nd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
    	break;
	case 3:
	case 23:
     	var affix = "rd";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
   	break;
	case 4:
	case 5:
	case 6:
	case 7:
	case 8:
	case 9:
	case 10:
	case 11:
	case 12:
	case 13:
	case 14:
	case 15:
	case 16:
	case 17:
	case 18:
	case 19:
	case 20:
	case 24:
	case 25:
	case 26:
	case 27:
	case 28:
	case 29:
	case 30:
   	var affix = "th";
		$('#month-date').html(months[month] + " " + monthday + "<sup>" + affix + "</sup> " + ", " + (year+1900));
}

// Current Bitcoin Price Function
function btcprice() {
var currency = "USD";
var apiurl = 'https://api.coindesk.com/v1/bpi/currentprice/' + currency + '.json';

$.ajax({
  type: "GET",
  url: apiurl,
  async: false,
  dataType: 'json',
  success: function(data){
    var price = data["bpi"][currency]["rate_float"];
	  var priceRounded = Math.round(price);
	  $("#btc-price").append("$" + priceRounded + " " + currency);
    },
  error: function(errorMessage){
      alert("ajax call failed");
    }
}); // END ajax call
}
btcprice();

var subreddit = "TheSilphRoad";
var apiurl = 'https://www.reddit.com/r/' + subreddit + '/.json?';
var postnum = 1;

function updatepost() {
    $.ajax({
      type: "GET",
      url: apiurl,
      async: false,
      dataType: 'json',
      success: function(data){
				console.log(data);
        var title = data["data"]["children"][postnum]["data"]["title"];
		var score = data["data"]["children"][postnum]["data"]["score"];
		  	$("#watch-title").empty().prepend(title);
		  	$("#score-3").empty().append('<i class="fa fa-heart"> </i>' + ' ' + score);
		  	$("#watch-title-link").attr("href","https://reddit.com" + data["data"]["children"][postnum]["data"]["permalink"]);
				$("#watch-title-link").attr("target", "_blank");
      	},
      	error: function(errorMessage){
        	alert("Reddit ajax call failed");
  		}
    }); // END ajax call
} // End Update Post function
updatepost();

$("#next-post-news").click(function(){
	postnum = postnum+1;
	updatepost();
});

});
</script>

</body>
